<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Directions Example</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
<script type="text/javascript"
      src="http://maps.google.com/maps/api/js?key=AIzaSyBsGih1FDcYzxWH7bhNHgos_OBkYPiiSHw&libraries=places"></script>

      <script
  src="https://code.jquery.com/jquery-3.2.1.js"
  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
  crossorigin="anonymous"></script>

 
</head>
<body style="font-family: Arial; font-size: 12px;">

   <div class="address-form">
    Enter your location: <input id="address" type="text"  style="width: 250px"/>
    </div>
    <br>

     <div class="address-form">
    Enter your destination: <input id="destination" type="text"  style="width: 250px"/>
    </div>

    <br>

    <div>

    <input id="submit" type="submit" />
</div>

<br>


<div style="width: 600px;">
<div id="map" style="width: 280px; height: 400px; float: left;"></div>
<div id="panel" style="width: 300px; float: right;"></div>
</div>

<script type="text/javascript">

    

var directionsService = new google.maps.DirectionsService();
var directionsDisplay = new google.maps.DirectionsRenderer();
var service;
var currentLat;
var currentLong;
var destLat;
var destLong;
var destPlaceId;

google.maps.event.addDomListener(window, 'load', function () {
            var places = new google.maps.places.Autocomplete(document.getElementById('address'));
            google.maps.event.addListener(places, 'place_changed', function () {
                var place = places.getPlace();
                var address = place.formatted_address;
                var latitude = place.geometry.location.A;
                var longitude = place.geometry.location.F;
               
            });
        });
         google.maps.event.addDomListener(window, 'load', function () {
            var places = new google.maps.places.Autocomplete(document.getElementById('destination'));
            google.maps.event.addListener(places, 'place_changed', function () {
                var place = places.getPlace();
                var address = place.formatted_address;
                var latitude = place.geometry.location.A;
                var longitude = place.geometry.location.F;
                destPlaceId = place.place_id
                console.log(destPlaceId)
                console.log(place)
               
            });
        });

var map = new google.maps.Map(document.getElementById('map'), {
  zoom:7,
  mapTypeId: google.maps.MapTypeId.ROADMAP
});

directionsDisplay.setMap(map);
directionsDisplay.setPanel(document.getElementById('panel'));

$('#submit').click(function() {
    var address = $('#address').val(); 
    var destination = $('#destination').val()
    var request = {
        origin: address,
        destination: destination,
        travelMode: google.maps.DirectionsTravelMode.DRIVING
    };

    directionsService.route(request, function(response, status) {
        if (status == google.maps.DirectionsStatus.OK) {
            directionsDisplay.setDirections(response);
        }
    });

      var placeRequest = {
  placeId: destPlaceId
};
console.log(destPlaceId)

service = new google.maps.places.PlacesService(map);
service.getDetails(placeRequest, callback);

function callback(place, status) {
  console.log(place)
  destLong = place.geometry.viewport.b.b
  destLat = place.geometry.viewport.f.f
  if (status == google.maps.places.PlacesServiceStatus.OK) {
  }
}
console.log(destLong)
  console.log(destLat)
});

</script>

</body>
</html>